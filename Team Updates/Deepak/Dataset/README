# Table_First — Product-Level Cleaned Sales Data

## Introduction

`Table_First` is the first structured and cleaned table generated from raw Tally-style sales register data.  
The original data contained mixed invoice-level (parent) rows and product-level (child) rows, which made direct analysis difficult.

Each row in this table represents **one product sold in one invoice**, with invoice-level details correctly propagated.

---

## Structure of Table_First (Attributes & Description)

| Column Name | Description |
|------------|------------|
| Date | Invoice date of the sale. Stored as `datetime64[ns]` with normalized time (00:00:00). |
| FIRM | Name of the client / firm to whom the product was sold. |
| FIRM_PRODUCT | Name / description of the product sold. |
| Voucher Type | Type of transaction (e.g., Sales). |
| Voucher No. | Unique invoice / voucher number generated by the system. |
| GSTIN/UIN | GST number of the client firm (if applicable). |
| Quantity | Quantity of the product sold in that invoice line. |
| Rate | Unit selling price of the product. |
| Value | Line-item total value (`Quantity × Rate`). |
| brand | Derived brand name of the product (rule-based extraction). |
| category | Derived product category based on product description. |

---

## How Table_First Was Created (Step-by-Step)

### 1. Loading Raw Sales Data
- The raw Excel file (`cleaned_sales_dataset.xlsx`) was loaded using Pandas.
- This dataset contained:
  - Invoice header rows (firm-level)
  - Product detail rows

### 2. Creating a Safe Working Copy
- A copy of the original DataFrame was created to ensure:
  - No accidental modification of raw data
  - All transformations remain reproducible

### 3. Removing Unnecessary Columns
The following invoice-level or redundant columns were dropped:
- Alt. Units  
- Gross Total  
- SALE @18% LOCAL  
- CGST@9%  
- SGST@9%  
- Round Off  

### 4. Forward-Filling Invoice-Level Attributes
The following columns were forward-filled to resolve hierarchical structure:
- Date  
- Voucher Type  
- Voucher No.  
- GSTIN/UIN  

### 5. Removing Invoice Header Rows
- Rows where `FIRM_PRODUCT` was empty were removed.
- Only product-level rows were retained.

### 6. Date Normalization
- Timestamp noise was removed while retaining `datetime64[ns]` data type.

### 7. Brand Derivation
Brand was derived using rule-based keyword matching:
- HIK, EZVIZ, ECO → Hikvision  
- CP → CP Plus  
- DAHUA, DH- → Dahua  
- DAICHI → Daichi  
- IRANGE → Irange  
- BEETEL → Beetel  

### 8. Category Derivation
Category was derived using product description keywords:
- VDP → Video Door Phone  
- CAM / DOME / BULLET → Camera  
- NVR / DVR → Recorder  
- CABLE / HDMI → Cable / Accessories  
- POE / SWITCH → Networking  

---

## Final Outcome

- Clean, flat product-level dataset
- No data loss
- Fully analysis-ready
- Suitable for dashboards, SQL databases, and downstream analytics
